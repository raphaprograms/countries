import{s as d}from"./theme-Xh8qBZKJ.js";const m="https://restcountries.com/v3.1",p="name,flags,population,region,capital,cca3";async function u(){const e=await fetch(`${m}/all?fields=${p}`);if(!e.ok)throw new Error("Error fetching data");return e.json()}function g(e){return{name:e.name?.common??"No known country",flagsSrc:e.flags?.png??e.flags?.svg??"",flagAlt:e.flags.alt??`${e.name?.common??"Country"} flag`,population:e.population??null,region:e.region??null,capital:e.capital?.[0]??null,code:e.cca3??null}}function f(e,l){e.textContent="";for(const n of l){const t=document.createElement("a");t.className="card",t.href=`details.html?name=${n.name}`;const o=document.createElement("img");o.className="flag",o.src=n.flagsSrc,o.alt=n.flagAlt;const a=document.createElement("div");a.className="card-body";const c=document.createElement("h2");c.className="name",c.textContent=n.name,a.appendChild(c);const s=document.createElement("p");s.className="population",s.textContent=`Population: ${n.population}`,a.appendChild(s);const r=document.createElement("p");r.className="region",r.textContent=`Region: ${n.region??"not found"}`,a.appendChild(r);const i=document.createElement("p");i.className="capital",i.textContent=`Capital: ${n.capital??"not found"}`,a.appendChild(i),t.appendChild(o),t.appendChild(a),e.appendChild(t)}}function h(e,l,n){const t=l.trim().toLowerCase(),o=n.trim();return e.filter(a=>{const c=t===""||a.name.toLowerCase().includes(t),s=o===""||a.region===o;return c&&s})}function C(e,l,n){const t=()=>n(e.value,l.value);e.addEventListener("input",t),l.addEventListener("change",t)}document.addEventListener("DOMContentLoaded",async()=>{d();const e=document.getElementById("grid"),l=document.getElementById("search"),n=document.getElementById("region"),o=(await u()).map(g);let a="",c="";const s=()=>{const r=h(o,a,c);f(e,r)};s(),C(l,n,(r,i)=>{a=r,c=i,s()})});
