import{s as C}from"./theme-Xh8qBZKJ.js";const f="https://restcountries.com/v3.1",b="name,flags,population,region,subregion,capital,tld,currencies,languages,borders,cca3";async function v(e){const n=await fetch(`${f}/name/${e}?fullText=true&fields=${b}`);if(!n.ok)throw new Error("Failed to fetch country!");const o=await n.json();if(!o.length)throw new Error("Country not found");return o[0]}async function E(e){if(!e.length)return[];const n=await fetch(`${f}/alpha?codes=${e.join(",")}&fields=name,cca3`);if(!n.ok)throw new Error("Failed to fertch borders");return(await n.json()).map(t=>({code:t.cca3,name:t.name.common}))}function w(e){const n=e.name.nativeName?Object.values(e.name.nativeName)[0]:void 0,o=e.currencies?Object.values(e.currencies).map(s=>s.name):[],t=e.languages?Object.values(e.languages):[];return{name:e.name.common??"Unknown",nativeName:n?.official??n?.common??null,flagSrc:e.flags.png??e.flags.svg??"",flagAlt:e.flags.alt??`${e.name.common??"Country"} flag`,population:e.population??null,region:e.region??null,subregion:e.subregion??null,capital:e.capital?.[0]??null,tld:e.tld??[],currencies:o,languages:t,borders:e.borders??[]}}function L(e,n,o){e.textContent="";const t=document.createElement("div");t.classList.add("country-detail");const s=document.createElement("img");s.classList.add("flag-details"),s.src=n.flagSrc,s.alt=n.flagAlt,t.appendChild(s);const i=document.createElement("div");i.classList.add("data");const c=document.createElement("h2");c.textContent=n.name,i.appendChild(c);const a=document.createElement("ul");a.classList.add("facts");const l=(p,d)=>{const u=document.createElement("li"),h=document.createElement("strong");return h.textContent=`${p}: `,u.appendChild(h),u.append(d??"-"),u};a.appendChild(l("Native Name",n.nativeName)),a.appendChild(l("Population",n.population?.toLocaleString()??void 0)),a.appendChild(l("Region",n.region)),a.appendChild(l("Sub Region",n.subregion)),a.appendChild(l("Capital",n.capital)),a.appendChild(l("Top Level Domain",n.tld.join(", ")||void 0)),a.appendChild(l("Currencies",n.currencies.join(", ")||void 0)),a.appendChild(l("Languages",n.languages.join(", ")||void 0)),i.appendChild(a);const r=document.createElement("div");r.classList.add("borders");const g=document.createElement("strong");g.textContent="Border Countries:",r.appendChild(g);const m=document.createElement("span");m.classList.add("border-list"),o.length?o.forEach(p=>{const d=document.createElement("a");d.classList.add("b-link"),d.href=`details.html?name=${p.name}`,d.textContent=p.name,m.appendChild(d)}):m.textContent="none",r.appendChild(m),i.appendChild(r),t.appendChild(i),e.appendChild(t)}document.addEventListener("DOMContentLoaded",async()=>{C();const e=document.getElementById("detail");document.getElementById("back")?.addEventListener("click",()=>{window.location.href="index.html"});const t=new URLSearchParams(location.search).get("name");if(!t)return;const s=await v(t),i=w(s),c=await E(i.borders);L(e,i,c)});
